<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pen_Plotter_Term_Project: cotask.Task Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pen_Plotter_Term_Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classcotask_1_1Task.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classcotask_1_1Task-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cotask.Task Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implements multitasking with scheduling and some performance logging.  
 <a href="classcotask_1_1Task.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a912aa5a1bed736fa76e110ab0448e97b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcotask_1_1Task.html#a912aa5a1bed736fa76e110ab0448e97b">__init__</a> (self, run_fun, <a class="el" href="classcotask_1_1Task.html#ab54e069dd0b4f0a2f8e7f00c94998a10">name</a>=&quot;NoName&quot;, priority=0, <a class="el" href="classcotask_1_1Task.html#a44f980f61f1908764c6821fa886590ca">period</a>=None, profile=False, trace=False)</td></tr>
<tr class="memdesc:a912aa5a1bed736fa76e110ab0448e97b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a task object so it may be run by the scheduler.  <a href="classcotask_1_1Task.html#a912aa5a1bed736fa76e110ab0448e97b">More...</a><br /></td></tr>
<tr class="separator:a912aa5a1bed736fa76e110ab0448e97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60def0ed4a1bc5fec32f3cf8b8a90c8"><td class="memItemLeft" align="right" valign="top"><a id="af60def0ed4a1bc5fec32f3cf8b8a90c8" name="af60def0ed4a1bc5fec32f3cf8b8a90c8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>schedule</b> (self)</td></tr>
<tr class="separator:af60def0ed4a1bc5fec32f3cf8b8a90c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6102bc35d7cb1ce292abc85d4ddc23e1"><td class="memItemLeft" align="right" valign="top"><a id="a6102bc35d7cb1ce292abc85d4ddc23e1" name="a6102bc35d7cb1ce292abc85d4ddc23e1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>ready</b> (self)</td></tr>
<tr class="separator:a6102bc35d7cb1ce292abc85d4ddc23e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a310e065fb576dff0e23d075c4e83a5f4"><td class="memItemLeft" align="right" valign="top"><a id="a310e065fb576dff0e23d075c4e83a5f4" name="a310e065fb576dff0e23d075c4e83a5f4"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>set_period</b> (self, new_period)</td></tr>
<tr class="separator:a310e065fb576dff0e23d075c4e83a5f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bcbfa7dd7086112af20b7247ffa4a2e"><td class="memItemLeft" align="right" valign="top"><a id="a1bcbfa7dd7086112af20b7247ffa4a2e" name="a1bcbfa7dd7086112af20b7247ffa4a2e"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>reset_profile</b> (self)</td></tr>
<tr class="separator:a1bcbfa7dd7086112af20b7247ffa4a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e51a228f985aec8c752bd72a73730ae"><td class="memItemLeft" align="right" valign="top"><a id="a6e51a228f985aec8c752bd72a73730ae" name="a6e51a228f985aec8c752bd72a73730ae"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>get_trace</b> (self)</td></tr>
<tr class="separator:a6e51a228f985aec8c752bd72a73730ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78e74d18a5ba94074c2b5309394409a5"><td class="memItemLeft" align="right" valign="top"><a id="a78e74d18a5ba94074c2b5309394409a5" name="a78e74d18a5ba94074c2b5309394409a5"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>go</b> (self)</td></tr>
<tr class="separator:a78e74d18a5ba94074c2b5309394409a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dcb50b9bf2676dfaac176649bc7d3f9"><td class="memItemLeft" align="right" valign="top"><a id="a2dcb50b9bf2676dfaac176649bc7d3f9" name="a2dcb50b9bf2676dfaac176649bc7d3f9"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>__repr__</b> (self)</td></tr>
<tr class="separator:a2dcb50b9bf2676dfaac176649bc7d3f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab54e069dd0b4f0a2f8e7f00c94998a10"><td class="memItemLeft" align="right" valign="top"><a id="ab54e069dd0b4f0a2f8e7f00c94998a10" name="ab54e069dd0b4f0a2f8e7f00c94998a10"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>name</b></td></tr>
<tr class="memdesc:ab54e069dd0b4f0a2f8e7f00c94998a10"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the task, hopefully a short and descriptive string. <br /></td></tr>
<tr class="separator:ab54e069dd0b4f0a2f8e7f00c94998a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeced93c7b7d23e33de9693d278aef88b"><td class="memItemLeft" align="right" valign="top"><a id="aeced93c7b7d23e33de9693d278aef88b" name="aeced93c7b7d23e33de9693d278aef88b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>priority</b></td></tr>
<tr class="memdesc:aeced93c7b7d23e33de9693d278aef88b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The task's priority, an integer with higher numbers meaning higher priority. <br /></td></tr>
<tr class="separator:aeced93c7b7d23e33de9693d278aef88b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44f980f61f1908764c6821fa886590ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcotask_1_1Task.html#a44f980f61f1908764c6821fa886590ca">period</a></td></tr>
<tr class="memdesc:a44f980f61f1908764c6821fa886590ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">The period, in milliseconds, between runs of the task's <code>run()</code> method.  <a href="classcotask_1_1Task.html#a44f980f61f1908764c6821fa886590ca">More...</a><br /></td></tr>
<tr class="separator:a44f980f61f1908764c6821fa886590ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96733bb9f4349a3f284083d1d4e64f9f"><td class="memItemLeft" align="right" valign="top"><a id="a96733bb9f4349a3f284083d1d4e64f9f" name="a96733bb9f4349a3f284083d1d4e64f9f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>go_flag</b></td></tr>
<tr class="memdesc:a96733bb9f4349a3f284083d1d4e64f9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag which is set true when the task is ready to be run by the scheduler. <br /></td></tr>
<tr class="separator:a96733bb9f4349a3f284083d1d4e64f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Implements multitasking with scheduling and some performance logging. </p>
<p >This class implements behavior common to tasks in a cooperative multitasking system which runs in MicroPython. The ability to be scheduled on the basis of time or an external software trigger or interrupt is implemented, state transitions can be recorded, and run times can be profiled. The user's task code must be implemented in a generator which yields the state (and the CPU) after it has run for a short and bounded period of time.</p>
<p ><b>Examples</b> </p><div class="fragment"><div class="line"><span class="preprocessor">@code</span></div>
<div class="line">    <span class="keyword">def </span>task1_fun ():</div>
<div class="line">        <span class="stringliteral">&#39;&#39;&#39;! This function switches states repeatedly for no reason &#39;&#39;&#39;</span></div>
<div class="line">        state = 0</div>
<div class="line">        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line">            <span class="keywordflow">if</span> state == 0:</div>
<div class="line">                state = 1</div>
<div class="line">            <span class="keywordflow">elif</span> state == 1:</div>
<div class="line">                state = 0</div>
<div class="line">            <span class="keywordflow">yield</span> (state)</div>
<div class="line"> </div>
<div class="line">    <span class="comment"># In main routine, create this task and set it to run twice per second</span></div>
<div class="line">    task1 = <a class="code hl_class" href="classcotask_1_1Task.html">cotask.Task</a> (task1_fun, name = <span class="stringliteral">&#39;Task 1&#39;</span>, priority = 1,</div>
<div class="line">                         period = 500, profile = <span class="keyword">True</span>, trace = <span class="keyword">True</span>)</div>
<div class="line"> </div>
<div class="line">    <span class="comment"># Add the task to the list (so it will be run) and run scheduler</span></div>
<div class="line">    cotask.task_list.append (task1)</div>
<div class="line">    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line">        cotask.task_list.pri_sched ()</div>
<div class="ttc" id="aclasscotask_1_1Task_html"><div class="ttname"><a href="classcotask_1_1Task.html">cotask.Task</a></div><div class="ttdoc">Implements multitasking with scheduling and some performance logging.</div><div class="ttdef"><b>Definition:</b> cotask.py:61</div></div>
</div><!-- fragment -->  </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a912aa5a1bed736fa76e110ab0448e97b" name="a912aa5a1bed736fa76e110ab0448e97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912aa5a1bed736fa76e110ab0448e97b">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def cotask.Task.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>run_fun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;NoName&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>priority</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>period</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>profile</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trace</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a task object so it may be run by the scheduler. </p>
<pre class="fragment">   This method initializes a task object, saving copies of constructor
   parameters and preparing an empty dictionary for states.

   @param run_fun The function which implements the task's code. It must
          be a generator which yields the current state.
   @param name The name of the task, by default @c NoName. This should
          be overridden with a more descriptive name by the programmer.
   @param priority The priority of the task, a positive integer with
          higher numbers meaning higher priority (default 0)
   @param period The time in milliseconds between runs of the task if it's
          run by a timer or @c None if the task is not run by a timer.
          The time can be given in a @c float or @c int; it will be
          converted to microseconds for internal use by the scheduler.
   @param profile Set to @c True to enable run-time profiling
   @param trace Set to @c True to generate a list of transitions between
          states. @b Note: This slows things down and allocates memory.
</pre> 
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a44f980f61f1908764c6821fa886590ca" name="a44f980f61f1908764c6821fa886590ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44f980f61f1908764c6821fa886590ca">&#9670;&nbsp;</a></span>period</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cotask.Task.period</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The period, in milliseconds, between runs of the task's <code>run()</code> method. </p>
<p >If the period is <code>None</code>, the <code>run()</code> method won't be run on a time basis but will instead be run by the scheduler as soon as feasible after code such as an interrupt handler calls the <code>go()</code> method. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cotask.py</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>cotask</b></li><li class="navelem"><a class="el" href="classcotask_1_1Task.html">Task</a></li>
    <li class="footer">Generated on Tue Mar 15 2022 15:37:28 for Pen_Plotter_Term_Project by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
